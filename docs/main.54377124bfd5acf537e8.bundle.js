webpackJsonp([1],{0:function(e,n,t){e.exports=t("cDNt")},cDNt:function(e,n,t){"use strict";function r(e){return l._29(0,[l._26(402653184,1,{canvasRef:0}),(e()(),l._14(0,[[1,0],["canvas",1]],null,0,"canvas",[["click","canvasClick($event)"]],null,[["window","resize"]],function(e,n,t){var r=!0,o=e.component;if("window:resize"===n){r=!1!==o.onResize(t)&&r}return r},null,null)),(e()(),l._28(null,[" Pattern component\n"]))],null,null)}function o(e){return l._29(0,[(e()(),l._14(0,null,null,1,"a-pattern-marker",[],null,[[null,"click"]],function(e,n,t){var r=!0;if("click"===n){r=!1!==l._25(e,1).onClickHandler()&&r}return r},r,g)),l._12(114688,null,0,h,[f,p,l.N,l.G],null,null)],function(e,n){e(n,1,0)},null)}function i(e){return l._29(0,[(e()(),l._28(null,["\n    "])),(e()(),l._14(0,null,null,1,"a-pattern-marker",[["model","sphere"]],null,[[null,"click"]],function(e,n,t){var r=!0;if("click"===n){r=!1!==l._25(e,2).onClickHandler()&&r}return r},r,g)),l._12(114688,null,0,h,[f,p,l.N,l.G],{model:[0,"model"]},null),(e()(),l._28(null,["\n  "]))],function(e,n){e(n,2,0,"sphere")},null)}function a(e){return l._29(0,[(e()(),l._14(0,null,null,1,"a-root",[],null,null,null,i,w)),l._12(49152,null,0,s,[],null,null)],null,null)}Object.defineProperty(n,"__esModule",{value:!0});var l=t("/oeL"),c=(t("rgUS"),{production:!0}),u=function(){function e(){}return e}(),s=function(){function e(){}return e.ctorParameters=function(){return[]},e}(),d=[""],_=[".portrait[_ngcontent-%COMP%]{-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:rotate(-90deg) translateX(-100%);transform:rotate(-90deg) translateX(-100%)}.desktop[_ngcontent-%COMP%]{-webkit-transform:scaleX(-1);transform:scaleX(-1)}"],f=function(){function e(){this.setMediaOptionDefaults={maxARVideoSize:320,cameraParam:"assets/Data/camera_para-iPhone 5 rear 640x480 1.0m.dat"}}return e.prototype.initAR=function(e){if(ARController&&ARController.getUserMediaThreeScene)return this.aRThreeOnLoad},e.prototype.aRThreeOnLoad=function(e){ARController.getUserMediaThreeScene({maxARVideoSize:320,cameraParam:"assets/Data/camera_para-iPhone 5 rear 640x480 1.0m.dat",onSuccess:e})},e.prototype.setCameraSize=function(e,n){if("portrait"===e.orientation){var t=window.innerWidth/e.videoHeight*e.videoWidth,r=window.innerWidth;n.setSize(t,r),n.domElement.style.paddingBottom=t-r+"px"}else{if(!/Android|mobile|iPad|iPhone/i.test(navigator.userAgent))return n.setSize(e.videoWidth,e.videoHeight),"desktop";n.setSize(window.innerWidth,window.innerWidth/e.videoWidth*e.videoHeight)}},e.ctorParameters=function(){return[]},e}(),p=function(){function e(){this.renderer=new THREE.WebGLRenderer({antialias:!0})}return e.prototype.getRenderer=function(){return this.renderer},e.prototype.createModel=function(e){return"sphere"===e?this.createSphere():"torus"===e?this.createTorus():this.createBox()},e.prototype.clicked=function(){},e.prototype.createSphere=function(){var e=new THREE.Mesh(new THREE.SphereGeometry(.5,8,8),new THREE.MeshNormalMaterial);return e.material.shading=THREE.FlatShading,e.position.z=.5,e},e.prototype.createBox=function(){var e=new THREE.Mesh(new THREE.BoxGeometry(1,1,1),new THREE.MeshNormalMaterial);return e.material.shading=THREE.FlatShading,e.position.z=.5,e},e.prototype.createTorus=function(){var e=new THREE.Mesh(new THREE.TorusGeometry(.3,.2,8,8),new THREE.MeshNormalMaterial);return e.material.shading=THREE.FlatShading,e.position.z=.5,e.rotation.x=Math.PI/2,e},e.ctorParameters=function(){return[]},e}(),h=function(){function e(e,n,t,r){this.service=e,this.three=n,this.ngRenderer=t,this.ngZone=r,this.options={model:{},renderer:{},rotationTarget:0}}return Object.defineProperty(e.prototype,"canvas",{get:function(){return this.canvasRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{set:function(e){this.options.model=this.three.createModel(e)},enumerable:!0,configurable:!0}),e.prototype.onClickHandler=function(e){console.log("clicled parent")},e.prototype.ngOnInit=function(){this.service.initAR()(this.arCallback.bind(this))},e.prototype.arCallback=function(e,n,t){var r=this.options.model||this.three.createModel("sphere");this.arScene=e,this.ngRenderer.addClass(this.canvas,n.orientation);var o=new THREE.WebGLRenderer({antialias:!0,canvas:this.canvas}),i=0;this.service.setCameraSize(n,o),n.loadMarker("assets/Data/patt.hiro",function(t){var o=n.createThreeMarker(t);o.add(r),e.scene.add(o)});var a=function(){e.process(),i+=.05*(0-r.rotation.z),r.rotation.z+=i,i*=.8,e.renderOn(o),requestAnimationFrame(a)};a()},e.prototype.onResize=function(e){console.log("resized ",e)},e.prototype.canvasClick=function(e){e.preventDefault(),this.options.rotationTarget+=1},e.ctorParameters=function(){return[{type:f},{type:p},{type:l.N},{type:l.G}]},e}(),m=[_],g=l._11({encapsulation:0,styles:m,data:{}}),v=(l._9("a-pattern-marker",h,o,{model:"model"},{},[]),[d]),w=l._11({encapsulation:0,styles:v,data:{}}),k=l._9("a-root",s,a,{},{},[]),y=t("qbdv"),E=t("fc+i"),R=t("BkNc"),b=function(){function e(){}return e}(),T=l._10(u,[s],function(e){return l._23([l._24(512,l.k,l._7,[[8,[k]],[3,l.k],l.E]),l._24(5120,l.A,l._22,[[3,l.A]]),l._24(4608,y.i,y.h,[l.A]),l._24(5120,l.c,l._15,[]),l._24(5120,l.y,l._20,[]),l._24(5120,l.z,l._21,[]),l._24(4608,E.b,E.s,[y.c]),l._24(6144,l.Q,null,[E.b]),l._24(4608,E.e,E.f,[]),l._24(5120,E.c,function(e,n,t,r){return[new E.k(e),new E.o(n),new E.n(t,r)]},[y.c,y.c,y.c,E.e]),l._24(4608,E.d,E.d,[E.c,l.G]),l._24(135680,E.m,E.m,[y.c]),l._24(4608,E.l,E.l,[E.d,E.m]),l._24(6144,l.O,null,[E.l]),l._24(6144,E.p,null,[E.m]),l._24(4608,l.W,l.W,[l.G]),l._24(4608,E.g,E.g,[y.c]),l._24(4608,E.i,E.i,[y.c]),l._24(5120,R.a,R.u,[R.k]),l._24(4608,R.d,R.d,[]),l._24(6144,R.f,null,[R.d]),l._24(135680,R.m,R.m,[R.k,l.D,l.j,l.w,R.f]),l._24(4608,R.e,R.e,[]),l._24(5120,R.h,R.x,[R.v]),l._24(5120,l.b,function(e){return[e]},[R.h]),l._24(4608,f,f,[]),l._24(4608,p,p,[]),l._24(512,y.b,y.b,[]),l._24(1024,l.o,E.q,[]),l._24(1024,l.F,function(){return[R.q()]},[]),l._24(512,R.v,R.v,[l.w]),l._24(1024,l.d,function(e,n,t){return[E.r(e,n),R.w(t)]},[[2,E.h],[2,l.F],R.v]),l._24(512,l.e,l.e,[[2,l.d]]),l._24(131584,l._13,l._13,[l.G,l._8,l.w,l.o,l.k,l.e]),l._24(2048,l.g,null,[l._13]),l._24(512,l.f,l.f,[l.g]),l._24(512,E.a,E.a,[[3,E.a]]),l._24(1024,R.p,R.s,[[3,R.k]]),l._24(512,R.o,R.c,[]),l._24(512,R.b,R.b,[]),l._24(256,R.g,{},[]),l._24(1024,y.g,R.r,[y.k,[2,y.a],R.g]),l._24(512,y.f,y.f,[y.g]),l._24(512,l.j,l.j,[]),l._24(512,l.D,l.T,[l.j,[2,l.U]]),l._24(1024,R.i,function(){return[[]]},[]),l._24(1024,R.k,R.t,[l.g,R.o,R.b,y.f,l.w,l.D,l.j,R.i,R.g,[2,R.n],[2,R.j]]),l._24(512,R.l,R.l,[[2,R.p],[2,R.k]]),l._24(512,b,b,[]),l._24(512,u,u,[])])});c.production&&Object(l._2)(),Object(E.j)().bootstrapModuleFactory(T).catch(function(e){return console.log(e)})},gFIY:function(e,n){function t(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id="gFIY"}},[0]);